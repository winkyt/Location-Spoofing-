<!DOCTYPE html>
<html>
<head>
    <title>Leaflet Picasa Web Albums</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:image" content="route.png" />

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="css/fish_style.css">
    <link rel="stylesheet" href="css/control-minimap.css" />
    <link rel="stylesheet" href="css/ekko-lightbox.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Inconsolata" />
    <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.35.1/mapbox-gl.css" rel='stylesheet' />
    <link rel="shortcut icon" href="img/symbol2.png" type="icon/Icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <link rel="stylesheet" href="lib/leaflet/leaflet.css" />
    <link rel="stylesheet" href="lib/cluster/MarkerCluster.css" />
    <link rel="stylesheet" href="css/Leaflet.Photo.css" />


    <script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="js/leaflet.ajax.min.js"></script>
    <script src="js/storymap.js"></script>
    <script src="js/ekko-lightbox.js"></script>
    <script src="js/control-minimap.js" type="text/javascript"></script>
    <script src="https://cdn.bootcss.com/chroma-js/1.3.3/chroma.min.js"></script>
    <script src="https://cdn.rawgit.com/teastman/Leaflet.pattern/44c56780/dist/leaflet.pattern-src.js"></script>
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v0.35.1/mapbox-gl.js"></script>
    <script src="https://rawgit.com/mapbox/mapbox-gl-leaflet/master/leaflet-mapbox-gl.js"></script>


    <script src="js/leaflet.markercluster-src.js"></script>
    <script src="js/Leaflet.Photo.js"></script>






</head>

<body>
<div id="map" style="width:600px; height: 600px"></div>




<script>

    var map = L.map('map', {
        maxZoom: 14
    }).setView([44, -120], 7);

    /*    L.tileLayer('http://opencache.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=norges_grunnkart&zoom={z}&x={x}&y={y}', {
     attribution: '&copy; <a href="http://kartverket.no/">Kartverket</a>'
     }).addTo(map);*/

    var Esri_NatGeoWorldMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}', {
        attribution: 'Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC',
        maxZoom: 16
    }).addTo(map);

    var photos = [{
        "lat": 34.04555452,
        "lng": -118.3001509,
        "thumbnail": "https://cdn4.iconfinder.com/data/icons/american-indian-tribe/500/American_Indian_tribe_native_clan_2-512.png",
        "url": "https://cdn4.iconfinder.com/data/icons/american-indian-tribe/500/American_Indian_tribe_native_clan_2-512.png",
        "name": "My First Photo"
    }, {
        "lat": 34.0522683,
        "lng": -118.2698607,
        "thumbnail": "https://cdn4.iconfinder.com/data/icons/american-indian-tribe/500/American_Indian_tribe_native_clan_2-512.png",
        "url": "https://cdn4.iconfinder.com/data/icons/american-indian-tribe/500/American_Indian_tribe_native_clan_2-512.png",
        "name": "My Second Photo"
    }, {
        "lat": 34.06281904,
        "lng": -118.2809651,
        "thumbnail": "https://cdn4.iconfinder.com/data/icons/american-indian-tribe/500/American_Indian_tribe_native_clan_2-512.png",
        "url": "https://cdn4.iconfinder.com/data/icons/american-indian-tribe/500/American_Indian_tribe_native_clan_2-512.png",
        "name": "My Third Photo"
    }];

    var photoLayer = L.photo.cluster().on('mouseover', function(evt) {
        var photo = evt.layer.photo;
        var template = '<img src="{url}" /></a><p>{name}</p>';
        evt.layer.bindPopup(L.Util.template(template, photo));
         evt.layer.on('mouseover', function ( e) {
         this.openPopup();
         });
            evt.layer.on('mouseout', function (e ) {
                this.closePopup();
            });
        });

    //var photoLayer = L.photo.cluster();

    photoLayer.add(photos).addTo(map);



</script>
</body>
</html>